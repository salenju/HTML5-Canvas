<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>04-Canvas学习——save()和restore()</title>
</head>

<body>
    <canvas id="myCanvas" width="600" height="400" style="border:1px solid;">
        您的浏览器不支持Canvas,请更新或更换浏览器！
    </canvas>

    <script>
        var c = document.getElementById("myCanvas");
        var ctx = c.getContext("2d");

        function drawScreen() {
            ctx.fillStyle = "#FA6900";
            ctx.shadowOffsetX = 5;
            ctx.shadowOffsetY = 5;
            ctx.shadowBlur = 4;
            ctx.shadowColor = "rgba(204, 204, 204, 0.5)";
            ctx.fillRect(10, 10, 15, 150);
            ctx.save(); // 将第一个状态存到堆栈中

            ctx.fillStyle = "#F36";
            ctx.shadowOffsetX = 10;
            ctx.shadowOffsetY = 10;
            ctx.shadowBlur = 4;
            ctx.shadowColor = "rgba(204, 204, 204, 0.5)";
            ctx.fillRect(50, 10, 30, 150);
            ctx.save(); // 将第二个转态存在堆栈中

            ctx.fillStyle = "#A7DBD7";
            ctx.shadowOffsetX = 15;
            ctx.shadowOffsetY = 15;
            ctx.shadowBlur = 4;
            ctx.shadowColor = "rgba(204, 204, 204, 0.5)";
            ctx.fillRect(110, 10, 45, 150);
            ctx.save(); // 将第三个转态存在堆栈中

            ctx.restore();  // 取出堆栈3（第三个状态）
            ctx.beginPath();
            ctx.arc(225,75,22,0,Math.PI*2,true);
            ctx.closePath();
            ctx.fill();

            ctx.restore();  // 取出堆栈2（第二个状态）
            ctx.beginPath();
            ctx.arc(320,75,15,0,Math.PI*2,true);
            ctx.closePath();
            ctx.fill();

            ctx.restore();  // 取出堆栈1（第一个状态）
            ctx.beginPath();
            ctx.arc(400,75,8,0,Math.PI*2,true);
            ctx.closePath();
            ctx.fill();
        }

        // 绘制扇形
        function drawSector(){
            // 初始保存（状态1）
            // 移动到目标点
            // 画出圆弧
            // 再次保存以备旋转（状态2）
            // 旋转至终点角度
            // 移动到终点，准备连接终点与圆心
            // 连接到圆心
            // 还原（状态2）
            // 旋转至起始角度
            // 从圆心连接到起点
            // 还原到最初保存的状态（状态1）
        }

        window.onload = function () {
            drawScreen();
        }
    </script>
</body>

</html>